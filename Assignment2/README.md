# Assignment 2

All questions/subquestions have been attempted. In case of any discrepancies please contact either of the group members.<br>
We have tried our best to adhere to all the naming conventions as described in the problem statement.

## A quick walk through the files

Following is a list of the files and possible options in them :

* **src.c(code)** <br>
	Main communication/computation script: It branches out from main() using the option and optimization argument from the command line.<br>
	The general structure of each branched out function is:
	-	Random initialization of a matrix per process.
	-	Communication using non-blocking calls Isend/Irecv and branch specific methods.
	-	Computation on inner elements of each matrix (which do not need any elements from neighboring processes).
	-	Waitall while all communication (send/receives) finish.
	-	Case specific computation of halo elements using received elements from neighboring processes.
	-	Back to communication step when in a time step loop.
	-   We report the total time spent in communication and computation for all the time steps

```sh
	mpirun -np P -f hostfile ./code D option optimized   
                #P is the number of processes, D is the data size for communication
				#option is a value{1,2,3,4} which branches for various collectives covered.
                #  optimized is a value {0,1} which selects whether to run the default collective or the optimized version 
```

* **Makefile**

```sh
	make        # Builds the executable for src.c named halo
	make clean  # Removes the executables binaries created in the make process. 
```

*	**script.pyy**<br>
	The helper script provided to generate the hostfile

*	**plot.py**<br>
	The helper plotting script provided: Uses `data*.txt` files to generate the required plots

*	**run.sh**<br>
	The Job script: Triggers various components of the assignment(`Makefile`, `hostfile.sh`, `src.c`, `plot.py`). <br>

```sh
	bash run.sh
```

*	**data_\*.txt**<br>
	There are four data files(\*=1,2,3,4) generated by `run.sh` as the data dump corresponding to the different collectives (MPI_Bcast, MPI_Reduce, MPI_Gather, MPI_Alltoallv).

*	**plot_\*.png**<br>
	There are four box plots (\*=16,36,49,64) generated by `run.sh` corresponding to each datafile and with various configurations.	

## Running the code


```sh
	cd Assignment2
	bash run.sh
```

Files created in this process include `code`(executable for src.c), `hostfile`, `data*.txt` & `plot*.png` .


## Observations



### Box Plots

![# of Processes = 16](plot16.png)
![# of Processes = 36](plot36.png)
![# of Processes = 49](plot49.png)
![# of Processes = 64](plot64.png)
